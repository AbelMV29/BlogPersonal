@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Iniciar sesión";
}
@model LoginViewModel
<div class="h-[81vh] flex h-full w-full items-center justify-center">
    <form class="p-[50px] gap-[40px] w-[440px] flex flex-col items-center" method="post" asp-action="Login" asp-controller="Account" asp-route-returnUrl="@ViewData["returnUrl"]">
        <h4 class="text-[36px] inter-bold text-center text-white">Inicar sesión</h4>
        <div class="w-full">
            <span asp-validation-for="Email" class="text-[var(--primary-color)] inter-bold"></span>
            <input asp-for="Email" type="email" class="text-[16px] px-[10px] py-[14px] border-2 bg-[var(--secondary-body-color)] rounded-[6px] w-full border-white text-gray-400 transition-colors focus:text-white focus:border-[var(--primary-color)] focus:outline-none" placeholder="Correo eléctronico" />
        </div>
        <div class="w-full">
            <span asp-validation-for="Password" class="text-[var(--primary-color)] inter-bold"></span>
            <input asp-for="Password" type="password" class="text-[16px] px-[10px] py-[14px] border-2 bg-[var(--secondary-body-color)] rounded-[6px] w-full border-white text-gray-400 transition-colors focus:text-white focus:border-[var(--primary-color)] focus:outline-none" placeholder="Contraseña" />
        </div>
        <button type="submit" class="text-[16px] bg-[var(--primary-color)] px-[45px] py-[9.5px] inter-bold transition-[1s] rounded-md text-white hover:bg-[var(--secondary-color)]">Ingresar</button>
        <span class="inter-medium text-white">¿Usuario nuevo? <a class="text-[var(--primary-color)]" asp-action="Register" asp-controller="Account">Regístrate</a></span>
        @if (ViewData.ModelState.ErrorCount > 0)
        {
            <div asp-validation-summary=All
                 class="bg-[var(--primary-color)] rounded-[6px] p-[10px] text-white">
            </div>
        }

    </form>
</div>
@section Scripts
{
    @*<script type="text/javascript">
        $(function () {
            const element = $("form");
            element.submit((event) => {
                console.log("hola")
                if (!$("#Email").val()) {

                    // Verificar si ya existe un mensaje de error
                    if ($("#Email").next("span").length === 0) {
                        // Crear el nuevo elemento de error
                        var errorMessageE = $("<span>")
                            .addClass("bg-[var(--primary-color)] p-2 text-white inter-bold absolute w-full rounded-[6px] mt-[-4px]")
                            .text("El email es obligatoria")
                            .attr("asp-validation-for", "Email")
                            .hide(); // Muestra el elemento con un fade-in durante 500 ms

                        // Insertar el nuevo elemento después del campo de contraseña
                        $("#Email").after(errorMessageE.fadeIn())
                    }
                }
                if (!$("#Password").val()) {
                    console.log("Contraseña vacía");

                    // Verificar si ya existe un mensaje de error
                    if($("#Password").next("span").length === 0) {
                        // Crear el nuevo elemento de error
                        var errorMessage = $("<span>")
                            .addClass("bg-[var(--primary-color)] p-2 text-white inter-bold absolute w-full rounded-[6px] mt-[-4px]")
                            .text("La contraseña es obligatoria")
                            .attr("asp-validation-for", "Password")
                            .hide(); // Muestra el elemento con un fade-in durante 500 ms

                        // Insertar el nuevo elemento después del campo de contraseña
                        $("#Password").after(errorMessage.fadeIn())
                    }
                }

            })
        })
    </script>*@
    <partial name="_ValidationScriptsPartial"></partial>
    
}